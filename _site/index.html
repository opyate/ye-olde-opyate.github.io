<!DOCTYPE HTML>
<html lang="en" prefix="og: http://ogp.me/ns#">
  <head>
    <meta charset="utf-8">
    <title>Juan Uys</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link href='http://fonts.googleapis.com/css?family=Poly:400,400italic' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" media="screen, projection" href="/res/screen.css" type="text/css">
    <link rel="stylesheet" media="print" href="/res/print.css" type="text/css">
    <link rel="alternate" type="application/atom+xml" title="Juan Uys" href="http://feeds.feedburner.com/opyate">
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="apple-touch-icon-precomposed" href="/res/apple-touch-icon-57x57-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="/res/apple-touch-icon-72x72-precomposed.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="/res/apple-touch-icon-114x114-precomposed.png">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@opyate">
    
    <meta property="fb:admins" content="564490402">
    <meta property="fb:app_id" content="318152194986912">
    
      <meta name="description" content="More noise by Juan Uys-- a South African techie and doodler residing in London.">
    
    
    <meta property="og:url" content="http://opyate.com/">
    <meta property="og:site_name" content="opyate.com">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="en_GB" />
    
    
    <script>
  //html { zoom:50%; }
  if (window.addEventListener) {
    var sidebarAdjustTimer;
    function updateOrientation(orientationChangeEvent) {
      if (sidebarAdjustTimer) clearInterval(sidebarAdjustTimer);
      //console.log('window.orientation -> '+window.orientation);
      if (window.orientation === -90 || window.orientation === 90) {
        // landscape
        var sidebar = document.getElementById('sidebar');
        if (!sidebar.src || sidebar.src === '') {
          sidebar.src = '/archive/sidebar.html';
        }
        sidebarAdjustTimer = setInterval(function() {
          var height = Math.round(document.height * 1.6);
          if (sidebar.height != height) {
            sidebar.height = height;
            sidebar.style.height = height + 'px';
          }
        },500);
      } else {
        // portrait
      }
    }
    window.addEventListener('orientationchange', updateOrientation);
    document.addEventListener('DOMSubtreeModified', function(ev) {
      if (document.getElementById('sidebar')) {
        document.removeEventListener('DOMSubtreeModified', arguments.callee);
        updateOrientation();
      }
    });
  }
</script>
    
    
  </head>
  <body>
    <script>
      var s;
      if (document.location.hostname === 'opyate.com') {
        s = document.createElement('script');
        s.async = true;
        s.src = "http://connect.facebook.net/en_US/all.js#appId=318152194986912&xfbml=1";
        document.getElementsByTagName('head')[0].appendChild(s);
      }
      
      if (window.navigator.userAgent.indexOf('iPad') != -1) {
        document.documentElement.className = 'ios ipad';
        window.opyateHostIsIOS = 'ipad';
      } else if (window.navigator.userAgent.indexOf('iPhone') != -1) {
        document.documentElement.className = 'ios iphone';
        window.opyateHostIsIOS = 'iphone';
      }
    </script>
    <div id="fb-root"></div><script></script>
    <iframe id="sidebar"></iframe>
    <header>
      <h1 class="logo" onclick="document.location.href='/';"><a href="/"><img src="/res/signature-2-2.png" width="160" height="50" alt="Signature"></a></h1>
      <ul class="navigation">
        <li><a href="/projects/" title="Projects I am or was involved in">Projects</a></li>
        <li><a href="/archive/" title="Archived articles">Archive</a></li>
        <li><a href="/about/">About me</a></li>
      </ul>
    </header>
    <!--div class="wrapper content"-->
      <div class="posts">
  
  <div class="content">
  <div class="post">

	<div class="meta">
		<p class="item tags small">
		<a href="/tag/startup" class="tag">startup</a><a href="/tag/failure" class="tag">failure</a><a href="/tag/pollarize" class="tag">pollarize</a>
		</p>
	</div>
	<div class="breaker"></div>
	<h1 class="title"><a href="/2013/07/19/failed-startup-2.html">Failed startup #2</a></h1>

	<info datetime="">
	Jul 19, 2013
	</info>


	<div class="body">
		<p><em>Pollarize</em> is a decision-making platform that makes it quicker and easier for you to query your friends across multiple social networks and gather their responses into one concise answer. I co-founded <em>pollarize</em> at Startup Weekend London, March 2012, which we won. Shortly after, we were accepted into Wayra UK, whom gave us enough money to work on releasing <em>pollarize</em> on iOS and web in December 2012. Sadly, we have since run out of cash and have failed to secure more funding.</p>

<p>This article is a retrospective.</p>

<h2>Startup weekend</h2>

<p><a href="http://www.flickr.com/photos/didscatterbrain/sets/72157629680707765/with/7021256699/"><img src="http://farm8.staticflickr.com/7256/7021256699_cf4c66b390_b.jpg" alt="Startup weekend final photo" /></a></p>

<p><em>That&rsquo;s me in front behind the HP bag.</em></p>

<p>I won&rsquo;t re-tell the story of <em>pollarize&rsquo;s</em> beginnings, so I copy Mat&rsquo;s post from the old <em>pollarize</em> blog:</p>

<blockquote><p>If superhero reboots have taught me anything over the past few years it’s that people love an origin story so I thought I’d share ours with you:</p>

<p>At the most basic level <em>Pollarize</em> was born out of my long term courtship of Juan Uys, our CTO, and an indecisive iPad purchase.</p>

<p>Juan and I met for the first time at a Hacker News event in 2010 and I quickly identified him as the technical guru I needed to help me launch the startup I was working on. Unfortunately I discovered that Juan was working on his own project but the the two of us stayed in touch and ended up becoming friends instead.</p>

<p>Fast forward a year and a half and both of our previous projects have gone the way of the dodo so we decided to team up and attend London Startup Weekend. We met up towards the end of March of this year, a week or so before the event, and threw a few ideas around, including an idea borne out of my experience trying to decide which iPad version (3G vs. Extra Memory) I should buy…</p>

<p>Startup Weekend London was an awesome experience. I’d spoken to people that had attend similar events before so I knew that the key to doing well was forming a small, manageable, team and executing as quickly as possible. With Juan on board and taking care of the back end we set out to fill the gaps in our team as quickly as possible and recruited Michael Hobson to look after design and Sara Gozalo to focus on front end development.</p>

<p>We learnt a lot over the course of that weekend - I got further with a startup in those 54 hours than I had in a year of trying - but most importantly we went on to win.  Winning that event had two major outcomes:</p>

<ul>
<li>It was a great validation of the project and encouraged us to continue with it after the event.</li>
<li>It introduced us to the team behind Wayra UK - the weekend’s primary sponsors.</li>
</ul>


<p>In light of this we decided to continue the project after we left Startup Weekend and also began the process of applying to accelerators.</p>

<p>Unfortunately we had to part ways with Sara at this point due to her other commitments and Juan quickly brought Phil Cole on board to take over front end development work.</p>

<p>A month or so later we made it through the final stage of selection at Wayra and became one of the first 16 teams to participate in Wayra UK.</p>

<p>A month after that we moved into the Wayra Academy as one of, if not the, earliest stage teams in the program and set about starting again from scratch.</p>

<p>It’s been 8 months since the Startup Weekend pitch that kicked all of this off and we’re still to break the ‘heads-down and execute like hell’ initiative that brought us that initial success. We have a wait list of 1,500 potential users signed up already, the second version of our iOS app in the app store and a brand new web app experience.  It’s very early days for us but you can be sure that we’re giving it our best shot.</p>

<p>I’d like to take this quick opportunity to thank my team, our early adopters and all the people that have supported us behind the scenes - <em>Pollarize</em> may have been born out of an iPad purchase but it’s growing into something bigger thanks to the awesome group of people involved in the project.</p>

<p>Cheers,</p>

<p>Mat</p></blockquote>

<h2>Wayra Academy</h2>

<p><a href="https://www.facebook.com/PollarizeMe"><img src="https://fbcdn-sphotos-b-a.akamaihd.net/hphotos-ak-prn1/543441_483970661623402_1985125126_n.jpg" alt="W is for Wayra" /></a></p>

<p>Mat&rsquo;s post above already aluded to Wayra Academy. I&rsquo;ll fill in some more blanks.</p>

<p>Wayra was the hardest I&rsquo;ve ever worked in my life. Apart from having to keep my day job (the guys didn&rsquo;t &mdash; bless &lsquo;em), I squeezed <em>pollarize</em> deliverables into every spare minute I had. As can be read from my <a href="http://funkshional.wordpress.com/category/pollarize/">old <em>pollarize</em> posts</a>, I used a few technologies which enabled me to iterate very, very quickly. I worked 3 hours before work in the morning, one hour over lunch, then another few hours in the evening. Weekends were 2 ten hour days. Needless to say, I never burned out. I followed a healthy diet and went to the gym every morning to stay limber. I did regret not spending the week days in the shiny new office with the guys, but with the help of good old email, Pivotal Tracker and some Basecamp, I did a mighty good job of getting those tickets out and keeping the bugs at bay.</p>

<p>I rushed through hours and hours of Scala, and used some Python for some add-on NLP and recommendation projects which we never launched. Mike designed everything we threw at him perfectly, whilst also juggling what was to become his <a href="http://www.3-beards.com/">tech events</a> business. Phil became my personal hero when he learned, developed and launched a gorgeous iOS app in 3 months. And Mat kept hustling all the way through it all, meeting, greeting, wining, dining and basically trying to secure us some funding.</p>

<p>We were going for the Big Bang, one-in-a-million, &ldquo;get lucky&rdquo; exit &mdash; something one is especially hungry for when your app is social and free.</p>

<h2>Dublin Web Summit</h2>

<p><a href="https://www.facebook.com/PollarizeMe"><img src="https://fbcdn-sphotos-e-a.akamaihd.net/hphotos-ak-prn1/404671_481933535160448_515453169_n.jpg" alt="'Stout' in Afrikaans means 'Naughty'" /></a></p>

<p>Mike won 2 Web Summit tickets, and Wayra sponsored another 2, so we were all able to attend. We implemented and refined about double the amount of features from the previous 6 months at the Web Summit weekend.</p>

<p>We had a successful iPhone app launch, got some good PR going, and met with more angels and investors you can shake an executive summary at.</p>

<p><a href="https://itunes.apple.com/gb/app/pollarize/id564203002"><img src="https://fbcdn-sphotos-d-a.akamaihd.net/hphotos-ak-prn1/561795_479200655433736_1131174673_n.jpg" alt="App Store, here we come!" /></a>.</p>

<p>We spoke, we demo&rsquo;d, we networked with other startups and got the buzz going. This was the best times of our respective professional lives.</p>

<h2>Big Bang</h2>

<p>Big bang? No: crash and burn. We failed to secure funding. We pivoted, then re-pivoted in a panic to make ourselves matter. We desperately wanted to stick together as a team and make more stuff. We do sometimes wonder if we were in a different startup environment if things would have panned out differently. Besides, we weren&rsquo;t the only ones making opinion apps: there are <a href="https://getamen.com/classic">Amen</a>, <a href="http://thumb.it/">Thumb</a>, <a href="http://polarb.com/">Polar</a> and others.</p>

<p>We started an agency called <a href="http://meetstrange.com/">Strange</a>, heavily inspired by <a href="http://berglondon.com/">BERG</a>. All of us, however, went on to separate things, because bills needed paying, and our respective better halves couldn&rsquo;t sustain us too much longer. (My story is slightly different. Having kept my day job, the missus really just needed some help with the <a href="http://pits-to-palace.tumblr.com">renovations</a> already!)</p>

<h2>Exodus</h2>

<p>A couple of days ago I put a stop to all our bills: Github, Pivotal, Heroku Postgres, SSL, Mongo, etc etc. The free instance on Heroku is in maintenance mode, and our splash page will remain until the domain expires, and we probably won&rsquo;t renew it. The demise of pollarize is sad for the 4 of us considering the hours we put in.</p>

<p>We are doing great, though. Phil went on to work (and take equity in) one of the Wayra shining stars: <a href="http://www.nightzookeeper.com/">Night Zookeeper</a>. Mike, like I said, is crafting the best tech events, now worldwide. (Silicon Drinkabout Copenhagen, anyone?). Mat continues to conquer the world, <a href="https://medium.com/@Wehtam">one idea at a time</a>. The missus and I just had a baby, and I&rsquo;m planning my next move.</p>

<p>Now, I just have to wait for the guys to become slightly more available again so we can hack up our Next Big Thing. We did everything perfectly before, but the world just wasn&rsquo;t ready. Our next product will be perfect again, but it won&rsquo;t be free ;-)</p>

<p>Thanks for reading.</p>
</div>
	<div class="breaker"></div>
	<info class="empty after">
	</info>
</div>

  </div>
  
  <div class="content">
  <div class="post">

	<div class="meta">
		<p class="item tags small">
		<a href="/tag/life" class="tag">life</a>
		</p>
	</div>
	<div class="breaker"></div>
	<h1 class="title"><a href="/2013/07/16/redefine-thyself.html">Redefine thyself.</a></h1>

	<info datetime="">
	Jul 16, 2013
	</info>


	<div class="body">
		<p><img src="http://24.media.tumblr.com/0e3daaaf5e64585f0dea531728d037c2/tumblr_mo8rc4h5de1ri2z5io1_1280.jpg" width="50%" align="right">We&rsquo;ve just had a baby, and it has put things into perspective a little bit.</p>

<blockquote><p>I never think of the future - it comes soon enough. &ndash; Albert Einstein</p></blockquote>

<p>Thanks, Einstein, but it does not apply to me anymore.</p>

<p>Wish me luck with my imminent adventure. Details to follow.</p>

<p><em>Image: my own rendition of Saul Steinberg, Untitled, 1948</em></p>
</div>
	<div class="breaker"></div>
	<info class="empty after">
	</info>
</div>

  </div>
  
  <div class="content">
  <div class="post">

	<div class="meta">
		<p class="item tags small">
		<a href="/tag/tech" class="tag">tech</a><a href="/tag/scala" class="tag">scala</a><a href="/tag/architecture" class="tag">architecture</a><a href="/tag/pollarize" class="tag">pollarize</a>
		</p>
	</div>
	<div class="breaker"></div>
	<h1 class="title"><a href="/2012/11/20/pollarize-architecture-at-a-glance.html">Pollarize architecture at a glance</a></h1>

	<info datetime="">
	Nov 20, 2012
	</info>


	<div class="body">
		<p><em>X-posted from the pollarize.me blog</em></p>

<h1>Genesis</h1>

<p>Pollarize was <a href="http://thenextweb.com/uk/2012/03/26/the-winner-of-startup-weekend-london-is-pollarize-me/">bourne</a> out of a 54 hour hacking stint at Startup Weekend in March 2012. The Thursday night before that weekend, I thought about the various tech I knew and wanted to have a good idea how to kickstart our hack before putting pen to paper on the Friday night.</p>

<p><img src="http://media.tumblr.com/tumblr_mdsg3ecowA1ryyv9k.png" width="50%" align="right"></p>

<p>The decision was made: Pollarize was going to be a Spring MVC web app running on an Amazon EC2 instance. I was going to worry about the database later, and maybe get away with using an in-memory map or something for the data.</p>

<p>Come Friday night, I felt a bit different. Why not learn something new, I thought. Besides, AWS might be a bit clunky for a weekend hack. And I’ve heard good things about the Play! framework, and the v2 was released just a few months before.</p>

<h1>Today</h1>

<p>Fast forward 7 months, over 200 deploys, and over 1,000 commits. This is what our API looks like now:</p>

<p><img src="http://i.imgur.com/bd1Bh.png" width="100%"></p>

<h2>Core</h2>

<p>The core app is a lightweight <a href="http://www.playframework.org/documentation/2.0.1/Home">Play! 2.0 (Scala edition)</a> web app which exposes a JSON web API, and it makes transactional writes to our operational <a href="https://postgres.heroku.com/">Postgres</a> database. Most other (unimportant) write operations happen via fire-and-forget calls to other modules via <a href="http://akka.io/">Akka</a>. The IDs for these data is pre-chosen, so subsequent calls will be idempotent.</p>

<h2>MongoDB</h2>

<p>All writes to the operational database is fired off to a <a href="https://www.mongolab.com/home">MongoDB</a> actor, which serves as the read-only cache for API reads. The data in MongoDB is already in the format the caller will consume, so it is extremely quick. The cache can be rebuilt asynchronously with the click of a button.</p>

<h2>Media</h2>

<p>The media module accepts profile pictures and poll images, and we use <a href="http://blitline.com/">Blitline</a> to get them into our signature circular format (and different sizes), and then we store the results in <a href="http://aws.amazon.com/s3/">Amazon S3</a> and expose it to the world via <a href="http://aws.amazon.com/cloudfront/">Cloudfront</a>. If you have any image processing to be done, definitely give Blitline a shot: they’re very helpful and the API is a lot of fun to play with.</p>

<h2>Notify</h2>

<p>Notifications is triggered via an Akka scheduled job in the case of poll expiry, and via events in the case of registration, password reset, poll creation from people you follow and follow notifications (yes, we’re a tiny social network). In general we use email via <a href="http://www.mailgun.com/">Mailgun</a>’s simple API, <a href="http://www.pubnub.com/">Pubnub</a> for web users, and <a href="http://urbanairship.com/">Urban Airship</a> for our mobile users.</p>

<h2>Other</h2>

<p>We played with some other tech but those were chucked out for various reasons. <a href="http://redistogo.com/">Redis</a> is awesome, and we used it initially for our social network, but in our case it was just another piece of your architecture to worry about. Our social network now happily lives in our operational database where it belongs. One day, if Postgres buckles under the graph, we’ll reconsider. Then there’s <a href="http://www.cloudamqp.com/">RabbitMQ</a>. It’s beautifully stable, and has a very good monitoring plugin, but once again: it’s one more thing to manage, and besides, Akka mailboxes will suffice for now.
You bet your PaaS we’re using Heroku</p>

<p>Heroku has been great for getting started. Have an idea? Code it, commit, push, et voilà. No worrying about builds, deploys or anything like that: one less operational hassle to worry about when you’re building features. However, we do have a chunky $5,000 AWS credit, and I’m slowly but surely creating <a href="http://puppetlabs.com/">Puppet</a> manifests for all our components (<a href="http://vagrantup.com/">Vagrant</a> has been great for testing this locally), but this is still a nice-to-have for the size of our user base, so I’m really just hacking at this in the in-between moments.</p>

<h2>Conclusion</h2>

<p>So, there you have it. Our architecture at a glance. There will be some more detail later down the line. In fact, I’m already drafting a Play! best practices, jotting down everything I’m learning along the way. Questions and comments on the back of a postcard.</p>
</div>
	<div class="breaker"></div>
	<info class="empty after">
	</info>
</div>

  </div>
  
  <div class="content">
  <div class="post">

	<div class="meta">
		<p class="item tags small">
		<a href="/tag/tech" class="tag">tech</a><a href="/tag/scala" class="tag">scala</a><a href="/tag/twilio" class="tag">twilio</a><a href="/tag/pollarize" class="tag">pollarize</a>
		</p>
	</div>
	<div class="breaker"></div>
	<h1 class="title"><a href="/2012/10/15/adding-sms-functionality-with-twilio.html">Adding SMS functionality with Twilio</a></h1>

	<info datetime="">
	Oct 15, 2012
	</info>


	<div class="body">
		<p><a href="http://pollarize.me">Pollarize</a> helps the world make up its mind via its beautiful, delightful suite of apps. However, not everyone owns a smartphone. Luckily, <a href="http://www.twilio.com/">Twilio</a> brings voice and messaging to web and mobile applications. Which means that Pollarize now allows our brick-lugging friends to compose polls via SMS.</p>

<h1>How we built it</h1>

<p>The usual Pollarize system constraints are the following:</p>

<ul>
<li>poll question can not exceed 100 characters</li>
<li>options A and B can not exceed 100 characters each</li>
</ul>


<p>The requirements are the following:</p>

<ul>
<li>a poll SMS should be in the format “Question text. A. First option B. Second option”</li>
<li>if either A or B is omitted, then default to “Yes” and “No” respectively</li>
<li>a poll SMS can exceed the 160 character limit, but not exceed 308 characters if we take into account the delimiters ” A. ” and ” B. “</li>
</ul>


<p>This meant that an entire poll can at least be described at least by one SMS, and at most by two, since 308 is less than 2 * 160, or two SMS fragments.</p>

<h1>SMS</h1>

<p>Twilio seemingly don’t maintain any state on their side. I.e. if a user sends a large SMS, Twilio will not bundle the resulting SMS fragments up and send it to us in one piece. Instead, Twilio will send us the fragments one after the other as they become available from the mobile network.</p>

<p>To illustrate this, here are the <code>application/form-url-encoded</code> payloads represented as Scala maps:</p>

<script src='https://gist.github.com/3854971.js?file=TwilioSMSFirst.scala'></script>


<div><noscript><pre><code>Map(
 ToCountry -&gt; List(GB),
 ToState -&gt; List(London),
 SmsMessageSid -&gt; List(SMc508bc45e41be7ec3827ac6b9617fb62),
 ToCity -&gt; List(),
 FromZip -&gt; List(),
 SmsSid -&gt; List(SMc508bc45e41be7ec3827ac6b9617fb62),
 FromState -&gt; List(),
 SmsStatus -&gt; List(received),
 FromCity -&gt; List(),
 Body -&gt; List(I don&#39;t have an iPhone, so I thought I&#39;d build SMS functionality. A. Great, what about something that interprets smoke signals? B. Good, now get on with ),
 FromCountry -&gt; List(GB),
 To -&gt; List(+442033224667),
 ToZip -&gt; List(),
 AccountSid -&gt; List(AC78cccde86008c911f6ae6a1c575b575a),
 From -&gt; List(+447446112182),
 ApiVersion -&gt; List(2010-04-01))</code></pre></noscript></div>




<script src='https://gist.github.com/3854971.js?file=TwilioSMSSecond.scala'></script>


<div><noscript><pre><code>Map(
 ToCountry -&gt; List(GB),
 ToState -&gt; List(London),
 SmsMessageSid -&gt; List(SM3f5c6a4584270d38ccbd1641a7b83df4),
 ToCity -&gt; List(),
 FromZip -&gt; List(),
 SmsSid -&gt; List(SM3f5c6a4584270d38ccbd1641a7b83df4),
 FromState -&gt; List(),
 SmsStatus -&gt; List(received),
 FromCity -&gt; List(),
 Body -&gt; List(the Android app already!),
 FromCountry -&gt; List(GB),
 To -&gt; List(+442033224667),
 ToZip -&gt; List(),
 AccountSid -&gt; List(AC78cccde86008c911f6ae6a1c575b575a),
 From -&gt; List(+447446112182),
 ApiVersion -&gt; List(2010-04-01))</code></pre></noscript></div>


<h1>Implementation in a nutshell</h1>

<p>The trick here is to assemble the SMS text once we’ve received all the fragments. Since Twilio doesn’t tell us there’s a second fragment coming, we don’t create a poll immediately after an SMS is received. Instead, we dump the payloads into MongoDB as they are received. A background worker then scans all “unprocessed” SMSes and check if there were other SMSes <em>from the same phone number within the last 10 seconds</em>. Once we have all the SMSes, we combine the original SMS text into a single text, create the poll, and we mark the Mongo record as “processed”.</p>

<p>The “<em>within the last 10 seconds</em>” bit only came after I discovered a massive bug. Let me explain…</p>

<h1>The Poll-from-SMS scheduled job</h1>

<p>The background job server re-assembles the SMS fragments into a single SMS and checks if they’re poll-worthy.</p>

<p>The first version of the SMSWorker accidentally did the following (using the data from the two Gists above):</p>

<h2>Poll #1</h2>

<pre>
Question: I don't have an iPhone, so I thought I'd build SMS functionality.
Option A. Great, what about something that interprets smoke signals?
Option B. Good, now get on with
</pre>


<h2>Poll #2</h2>

<pre>
Question: the Android app already!
Option A: Yes
Option B: No
</pre>


<p>See what I did there? Option B got cut off due to the 160 character SMS limit, and we accidentally created a whole new, unintelligible poll. Not quite what I had in mind, as you can imagine. I had to start making some assumptions about the way Twilio and the mobile networks interact in light of the absence of an SLA from either.</p>

<p>I assumed a maximum of 10 seconds between SMS fragments. A counter point to this is that we assume a user won’t create polls via SMS in quick succession.</p>

<h1>The Poll-from-SMS scheduled job V2</h1>

<p>The second version of the SMSWorker can be seen below.</p>

<script src='https://gist.github.com/3854971.js?file=ScheduledPollFromSMSActor.scala'></script>


<div><noscript><pre><code>class ScheduledPollFromSMSActor extends Actor with ActorLogging {
  def receive = {
    case &quot;check&quot; =&gt; {
      // find all &quot;unprocessed&quot; SMSes
      val twilios = TwilioMongo.findAllUnprocessed()

      // we don&#39;t assume that users will send short SMSes in a short amount of time
      twilios.groupBy(t =&gt; t.smsdata(&quot;From&quot;)).map {
        case (mobile, data) =&gt; {
          // take the user&#39;s SMSes where they&#39;re 10 seconds from one another
          val first = data.head
          val inProximity = data.takeWhile(d =&gt; scala.math.abs(d.created - first.created) &lt; 10000L)

          // assemble the entire SMS
          val entireSMS = inProximity.foldLeft(&quot;&quot;)((a, v) =&gt; {
            a + v.smsdata(&quot;Body&quot;)
          })

          val parsed = SMSParser(entireSMS)
          
          // &lt;omitted&gt; create poll, notify user, broadcast to other listeners...
          
          // mark as processed, or failed
          inProximity.map(twilioData =&gt; {
            TwilioMongo.update(twilioData.copy(status = parsed.map(_ =&gt; &quot;processed&quot;).getOrElse(&quot;failed&quot;)))
          })
        }
      }
    }
  }
}</code></pre></noscript></div>


<p>The value inProximity are the SMS fragments within a 10 second period. The SMS fragments belong to the same user, as obtained via the groupBycall on line 8.</p>

<p>The SMSParser on line 19 is really nothing special, but from the test cases you’ll see that we’re catering for every eventuality:</p>

<script src='https://gist.github.com/3854971.js?file=SMSParserSpec.scala'></script>


<div><noscript><pre><code>class SMSParserSpec extends Specification {
  
  // one hundred characters
  val h = &quot;0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789&quot;
  // MORE than one hundred characters
  val h1 = &quot;0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789&quot; + &quot;!&quot;
 
  // --
  
  &quot;SMS Parser&quot; should {
    
    &quot;extract question and 2 answers&quot; in {
      val poll = SMSParser(&quot;Was this sent via SMS? a. Yes, indeed. b. Nope!&quot;)
      
      poll.get.question.trim must equalTo(&quot;Was this sent via SMS?&quot;)
      poll.get.option_a.get.trim must equalTo(&quot;Yes, indeed.&quot;)
      poll.get.option_b.get.trim must equalTo(&quot;Nope!&quot;)
    }
    
    &quot;default to Yes and No when no answers are specified&quot; in {
      val poll = SMSParser(&quot;Cheese is da bomb!&quot;)
      
      poll.get.question must equalTo(&quot;Cheese is da bomb!&quot;)
      poll.get.option_a must beSome(&quot;Yes&quot;)
      poll.get.option_b must beSome(&quot;No&quot;)
    }
    
    &quot;ignore the case of a and b&quot; in {
      val poll = SMSParser(&quot;Was this sent via SMS? A. Yes, indeed. b. Nope!&quot;)
      
      poll.get.question must equalTo(&quot;Was this sent via SMS?&quot;)
      poll.get.option_a.get.trim must equalTo(&quot;Yes, indeed.&quot;)
      poll.get.option_b.get.trim must equalTo(&quot;Nope!&quot;)
    }
    
    &quot;default b to &#39;No&#39; if only a is specified&quot; in {
      val poll = SMSParser(&quot;Was this sent via SMS? A. Yes, indeed.&quot;)
      
      poll.get.question must equalTo(&quot;Was this sent via SMS?&quot;)
      poll.get.option_a.get.trim must equalTo(&quot;Yes, indeed.&quot;)
      poll.get.option_b must beSome(&quot;No&quot;)
    }
    
    &quot;default a to &#39;Yes&#39; if only b is specified&quot; in {
      val poll = SMSParser(&quot;Was this sent via SMS? B. This is only a dream.&quot;)
      
      poll.get.question must equalTo(&quot;Was this sent via SMS?&quot;)
      poll.get.option_a must beSome(&quot;Yes&quot;)
      poll.get.option_b.get.trim must equalTo(&quot;This is only a dream.&quot;)
    }
    
    &quot;be invalid if only options were specified (i.e. no question)&quot; in {
      SMSParser(&quot;A. Yes, indeed. B. This is only a dream.&quot;) must beNone
      SMSParser(&quot;A. Yes, indeed.&quot;) must beNone
      SMSParser(&quot;B. This is only a dream.&quot;) must beNone
    }
    
    &quot;be invalid if nothing at all was specified&quot; in {
      SMSParser(&quot;&quot;) must beNone
      SMSParser(&quot; &quot;) must beNone
      SMSParser(&quot;  &quot;) must beNone
    }
    
    &quot;reject the SMS if any/all fields are &gt; 100&quot; in {
      val poll = SMSParser(&quot;%s A. %s B. %s&quot;.format(h, h, h))
      poll.get.question must equalTo(h)
      poll.get.option_a must beSome(h)
      poll.get.option_b must beSome(h)
      
      SMSParser(&quot;%s A. %s B. %s&quot;.format(h1, h, h)) must beNone
      SMSParser(&quot;%s A. %s B. %s&quot;.format(h, h1, h)) must beNone
      SMSParser(&quot;%s A. %s B. %s&quot;.format(h, h, h1)) must beNone
      SMSParser(&quot;%s A. %s B. %s&quot;.format(h1, h1, h1)) must beNone
    }
  }
}</code></pre></noscript></div>


<h1>Conclusion</h1>

<p>This was a fun little addition. Next up is voting via SMS.</p>

<p>MongoDB allowed me to store the entire SMS payload and worry about the contents later. I didn’t create a model for the SMS payload, because it isn’t core to my domain. Also, the 10 second window seemed like a safe trade-off in light of being in the dark (huh?) with regards to mobile network SLAs. We’ll measure and adjust accordingly, of course.</p>

<p>Twilio was easy to integrate with, and it all just works. Now I feel like SMS-enabling all my apps.</p>

<p><img width="50%" src="http://cdn.memegenerator.net/instances/400x/28084623.jpg" alt="SMS-enable all the things"></p>
</div>
	<div class="breaker"></div>
	<info class="empty after">
	</info>
</div>

  </div>
  
  <div class="content">
  <div class="post">

	<div class="meta">
		<p class="item tags small">
		<a href="/tag/tech" class="tag">tech</a><a href="/tag/semweb" class="tag">semweb</a>
		</p>
	</div>
	<div class="breaker"></div>
	<h1 class="title"><a href="/2012/07/31/semantic-web-deep-dive.html">Semantic Web Deep Dive</a></h1>

	<info datetime="">
	Jul 31, 2012
	</info>


	<div class="body">
		<p>Or, actually:</p>

<h1>Semantic Web Crash &amp; Burn</h1>

<p>I sent a <a href="/2009/07/10/semantic-web.html">very naïve open letter</a> to a few key players in the semweb space a few years ago. I got no responses, and hence thought that either my question was posed incorrectly, or the field is so new no-one can really answer me, or the race is on to lay the groundwork and therefore there’s no time to get a newbie up to speed, or X. (I don’t know what X is yet.)</p>

<p>Fast-forward 3 years and I now have a project going which may or may not generate some valuable data soon. I want to store the data in a way that makes sense for humans and computers alike. I do not want to index everything, because being presented with a list of 10 close matches to what you want is so archaic. And since I’m a big fan of free PaaS hosting plans, the data needs to be stored very efficiently, and I should be able to operate on it every efficiently. Besides, <a href="http://www.information-management.com/blogs/big-data-size-mass-velocity-10022886-1.html">your Big Data is big enough</a>, so I should be OK.</p>

<p>Without further ado, I’ve dedicated my evening to a Deep Dive of everything semweb.</p>

<p>I love the web and I’m a web programmer. I also want to give meaning to my data, i.e. attach some sort of semantics. Roll on.</p>

<h1>Overview</h1>

<p>I started this post at 7 and now it’s 11. I got stuck on a <a href="http://en.wikipedia.org/wiki/Linked_data">handful of Wikipedia articles</a> and <a href="http://www.w3.org/2001/sw/">W3C</a> recommendations and working groups. It all reminded me of this XKCD on standards:</p>

<p><a href="http://xkcd.com/927/"><img alt="XKCD #927 (http://xkcd.com/927/)" src="http://imgs.xkcd.com/comics/standards.png" width="500" height="283"></a></p>

<p>After hours of randomly clicking and reading bits and pieces, I’ve managed to get a better overview of the state of semweb.</p>

<h1>And then a funny thing happened</h1>

<p>This is where I was supposed to write about it all, dissect it, make sense of it and summarise it.</p>

<p>I was going to give you a primer on simple terms like taxonomy, vocabulary and ontology. I was going to tell you how we’re still far away from data and still very much document-based, stuck in silos, and how traditional markup doesn’t cut it—how it does not describe what something means, how <a href="http://en.wikipedia.org/wiki/Microformat">microformats</a> is a web-based approach to semantic markup, and how this proliferation of formats can luckily be ground down into something coherent using <a href="http://en.wikipedia.org/wiki/GRDDL">GRDDL</a>. Most importantly, I was going to tell you about <a href="http://en.wikipedia.org/wiki/Knowledge_representation_and_reasoning">knowledge representation</a> using OWL and RDF, and the software tools to peruse said formats.</p>

<p>Then I realised: my brain is so crammed with 4 hours worth of reading all this stuff, that I need to find a way to do exactly that: <strong>a knowledge representation of what’s in my brain</strong>.</p>

<p>Then something in my head went <em>snap</em>.</p>

<p>I ended up on the floor in a spasmodic fit of hilarity, sucking my thumb. The confusion punctured my prefrontal cortex, and I now only speak to uppity wooden chairs. In reverse. My brain turned on itself in the most meta way possible. I had to stop.</p>

<h1>Conclusion</h1>

<p>I don’t want to duplicate any knowledge here, so there will be no summaries. But, I’ve seen the suffering, and will leave with you the following tips:</p>

<ul>
<li>if you ever publish anything, and it’s not data, please <a href="http://en.wikipedia.org/wiki/Embedded_RDF">annotate</a> it for <a href="http://en.wikipedia.org/wiki/Artificial_intelligence">generations to come</a>. The web is too noisy to scrape anything anymore and we’re too busy to build a spider to make sense of your mash of markup.</li>
<li>there are <a href="http://answers.semanticweb.com/">places</a> where you can ask questions if you get stuck.</li>
<li>don’t silo your data or think it belongs to you especially if your users created it (here’s looking at you, Facebook). <a href="http://vibrantdata.org/">It should be free.</a></li>
<li>don’t break the web by creating user profiles and not annotating it with <a href="http://microformats.org/wiki/hcard">hCard</a> at the very least. There’s also <a href="http://www.foaf-project.org/">FOAF</a> and <a href="http://en.wikipedia.org/wiki/XHTML_Friends_Network">XFN</a>.</li>
<li>don’t expect silver bullets. There are smart people doing good things to take this movement forward, like <a href="http://www.opencalais.com/">http://www.opencalais.com/</a> (even though OC are too focused on companies/mergers news)</li>
<li>there’s too much standards documentation for me to consume right now. <a href="http://hueniverse.com/2012/07/oauth-2-0-and-the-road-to-hell/">Process can scare the most optimistic of us away</a>, but it seemed the folks at W3C managed to pull something wonderful together. I really do hope I can get through it all one day.</li>
<li>a few weeks after doing this 7-11 stint, I found a semweb on-line test, and memory served me well. I’ll consume you yet, semweb, just you wait.</li>
</ul>


<blockquote class="twitter-tweet"><p>Decided to learn a thing or 2 about RDF/OWL by throwing myself into the deep end with a test. <a href="https://twitter.com/search?q=%23semweb&amp;src=hash">#semweb</a> <a href="https://twitter.com/search?q=%23TabSwitchingFTW&amp;src=hash">#TabSwitchingFTW</a> <a href="http://t.co/lBydLQ6A">pic.twitter.com/lBydLQ6A</a></p>&mdash; opyate (@opyate) <a href="https://twitter.com/opyate/statuses/224227281810358273">July 14, 2012</a></blockquote>


<script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>


<h1>And, then some…</h1>

<p>…other things I wanted to write a few words about, but responsibilities beckon.</p>

<h2>LOD</h2>

<p>This really excites me: http://www.w3.org/wiki/SweoIG/TaskForces/CommunityProjects/LinkingOpenData</p>

<p>See FAQ #7: “Invent heuristics to auto-generate links between data items from different sources.”</p>

<p>And then further down there is a list of passionate people telling the world how they could help.</p>

<h2>MIT Simile project</h2>

<p><a href="http://simile.mit.edu/">http://simile.mit.edu/</a></p>
</div>
	<div class="breaker"></div>
	<info class="empty after">
	</info>
</div>

  </div>
  
  <div class="content">
  <div class="post">

	<div class="meta">
		<p class="item tags small">
		<a href="/tag/tech" class="tag">tech</a><a href="/tag/scala" class="tag">scala</a>
		</p>
	</div>
	<div class="breaker"></div>
	<h1 class="title"><a href="/2012/02/27/consistent-hashing-using-scala-and-gnuplot.html">Consistent hashing with Scala</a></h1>

	<info datetime="">
	Feb 27, 2012
	</info>


	<div class="body">
		<p>I recently got into <a href="http://basho.com/products/riak-overview/">Riak</a>, and subsequently <a href="http://en.wikipedia.org/wiki/Consistent_hashing">Consistent Hashing</a>, and found the referenced <a href="http://www.lexemetech.com/2007/11/consistent-hashing.html">Java implementation</a> quite a delightful and informative read.</p>

<p>As any hacker would, I thought I’d implement it in my current favourite language: Scala. Half-way through I realised that Scala’s TreeMap is as slow as a geriatric slug on a salted snowed-in street. So, I did the <code>import java.util.{TreeMap =&gt; JTreeMap}</code> thing and got cracking:</p>

<p>The gist can be found here: <a href="https://gist.github.com/1927001">https://gist.github.com/1927001</a></p>

<h1>How many virtual nodes?</h1>

<p>Systems using consistent hashing needs the “virtual nodes” parameter tuned so as to find a sweet spot where you get good mixing of cached objects amongst nodes (i.e. all nodes store a somewhat equal amount of stuff).</p>

<p>The gist above, when run, will generate a file called “dat” in the current directory, which can be fed into <a href="http://www.gnuplot.info/">gnuplot</a> to show the standard deviation (as a percentage of the mean) for certain sizes of vnode.</p>

<p>As per the lexemetech.com article, a value not higher than 5% or 10% is preferable, and for 10 nodes, this amounts to about 100 or 200 vnodes. Let’s verify this.</p>

<h1>gnuplot</h1>

<p>Using a terminal, run gnuplot in the same location as “dat”, and you’ll see this prompt: <code>gnuplot&gt;</code></p>

<p>Now, copy/paste this entire bit of code into the terminal:</p>

<script src='https://gist.github.com/1927001.js?file=gnuplot'></script>


<div><noscript><pre><code>reset
set logscale
 
# xrange to max number of vnodes
#set xrange [1:1000]
 
# set specific tic labels
set ytics (&quot;5&quot; 5, &quot;10&quot; 10, &quot;20&quot; 20, &quot;50&quot; 50, &quot;100&quot; 100)
set xtics (&quot;1&quot; 1, &quot;2&quot; 2, &quot;5&quot; 5, &quot;10&quot; 10, &quot;20&quot; 20, &quot;50&quot; 50, &quot;100&quot; 100, &quot;200&quot; 200, &quot;500&quot; 500, &quot;1000&quot; 1000, &quot;2000&quot; 2000, &quot;5000&quot; 5000, &quot;10000&quot; 10000)
 
# x and y labels
set xlabel &#39;Number of Virtual Nodes&#39;
set ylabel &#39;Standard Deviation as % of mean&#39;
 
# linear regression
f(x) = m*x + b
fit f(x) &quot;dat&quot; using 1:2 via m,b
 
#...and since m and b is stored, just call it with the original plot
plot &quot;dat&quot; using 1:2 title &#39;Consistent Hashing&#39; with points pointtype 5, f(x) title &#39;Line Fit&#39;</code></pre></noscript></div>


<p>Here’s the plot:</p>

<p><img src="http://funkshional.files.wordpress.com/2012/02/plot1.png" alt="The plot"></p>

<p>As you can see, for a large amount of vnodes, the percentage tends to 1%.</p>

<p>You can see this more easily by inputting this into the gnuplot prompt:</p>

<script src='https://gist.github.com/1927001.js?file=gnuplot-amend'></script>


<div><noscript><pre><code>set ytics (&quot;1&quot; 1, &quot;2&quot; 2, &quot;3&quot; 3, &quot;4&quot; 4, &quot;5&quot; 5, &quot;10&quot; 10, &quot;20&quot; 20, &quot;50&quot; 50, &quot;100&quot; 100)
replot</code></pre></noscript></div>


<p>According to my plot, I start to get a low SD around 50 vnodes (5 times my number of nodes), but then this could just be because my hashing function mixes better than the one used by lexemetech.</p>
</div>
	<div class="breaker"></div>
	<info class="empty after">
	</info>
</div>

  </div>
  
  <div class="content">
  <div class="post">

	<div class="meta">
		<p class="item tags small">
		<a href="/tag/tech" class="tag">tech</a><a href="/tag/life" class="tag">life</a>
		</p>
	</div>
	<div class="breaker"></div>
	<h1 class="title"><a href="/2012/02/24/programmers-bill-of-rights-2012.html">Programmer’s Bill Of Rights 2012</a></h1>

	<info datetime="">
	Feb 24, 2012
	</info>


	<div class="body">
		<p>It’s time to collate the various programmers’ bills of rights on the Interwebs and update it for the current age. <a href="#¹">¹</a></p>

<p>Cross-posted from <a href="http://perks.opyate.com">http://perks.opyate.com</a>.</p>

<p>Inspired by <a href="http://www.codinghorror.com/blog/2006/08/the-programmers-bill-of-rights.html">Jeff Atwood’s post</a>, and my own needs as a programmer.</p>

<h1>The Necessities</h1>

<p>The right tools and supplies for your brew.</p>

<p>I get my beans from <a href="http://www.monmouthcoffee.co.uk/">Monmouth in Camden</a>. I’m a won’t-roast-but-will-grind my own beans kinda guy. And then it’s also worth filling the kettle from a Britta jug.</p>

<p><img src="http://24.media.tumblr.com/611ede00c418fcdcf90c44d2755b7297/tumblr_msach2YkSU1rqrenzo1_1280.jpg" alt="The necessities"></p>

<h1>The Hardware</h1>

<p>All programmers want and need a MacBook Air.</p>

<p>Why? Because they’re light, beautiful, snappy, It Just Works ™ and besides, if you’re making a case for less hours in the office, what better way to take your work everywhere you go?</p>

<p><img src="http://24.media.tumblr.com/tumblr_lzw2jjpwEQ1rqrenzo1_1280.jpg" alt="The hardware: Macbook Air"></p>

<p>Pixel real estate. Yes, a nice, extra 27 inches will do.</p>

<p>(OK, so personally I don’t need an extra monitor. I use my 13” Air in the pub, on the train, at the coffee shop, on the sofa. I work the same way everywhere I go, so plugging in an extra monitor in the office just doesn’t feel right.)</p>

<p><img src="http://31.media.tumblr.com/tumblr_mb6mfh019C1qlx0y9o1_1280.jpg" alt="The hardware: Cinema display"></p>

<p>A large SSD.</p>

<p>Obvious speed benefits aside, the large capacity means you can take with you all your VMs, your hundreds of Github checkouts, play environments (like <a href="http://supercollider.sourceforge.net/">Supercollider</a>, <a href="http://puredata.info/">Pd</a>, <a href="http://www.r-project.org/">R</a>, <a href="http://squeak.org/">Squeak VM</a>, <a href="http://www.mozart-oz.org/">Oz VM</a>, etc), eBooks, large data sets (for those <a href="http://en.wikipedia.org/wiki/Big_data">Big Data</a> geeks), and just about everything you can learn from.</p>

<p><img src="http://24.media.tumblr.com/tumblr_lzw2znnV2A1rqrenzo1_1280.png" alt="The hardware: a large SSD"></p>

<p>Speedy Internet connection.</p>

<p>And, please don’t put your super fast fibre optic line behind a crappy wifi router. (yes, wifi is a must, so we can go and chill out on the sofa if we need to.)</p>

<p>Why? Because everything is on the Internet already. <a href="http://stackexchange.com/">Solutions</a>, <a href="http://www.quora.com/">advice</a>, <a href="http://news.ycombinator.com/">stuff to read</a>, <a href="http://pollarize.me/">opinions</a>, <a href="http://www.youtube.com/results?search_query=stalking+cat">cat videos</a> for the in-between moments, and The Wheel, which we won’t (and shouldn’t) have to reinvent.</p>

<p><a href="http://en.wikipedia.org/wiki/Speedy_Gonzales"><img src="http://31.media.tumblr.com/tumblr_mbn0xsi1mC1rqrenzo1_1280.jpg" alt="Speedy has speedy Internet too."></a></p>

<h1>The Privileges</h1>

<p>An engineer SHALL have admin rights to her/his computer <a href="#²">²</a></p>

<p>OK, so I know all about <a href="http://en.wikipedia.org/wiki/Payment_Card_Industry_Data_Security_Standard">PCI compliancy</a> and the weight of the phrase “your CEO will go to jail if you don’t harden system X”. Still, any devops worth their salt will put their developers on a secure dev subnet where they can’t make mistakes or pose any threats.</p>

<p><img src="http://31.media.tumblr.com/tumblr_mb6m3suL8f1qlx0y9o1_500.jpg" alt="root"></p>

<p>Hack days. <a href="http://www.nytimes.com/2007/10/21/jobs/21pre.html">Google does it</a>. <a href="http://www.atlassian.com/company/about/shipit">Atlassian does it</a>. <a href="http://blog.twitter.com/2012/01/hack-week-twitter.html">Everyone</a> <a href="http://www.guardian.co.uk/info/developer-blog/2012/feb/03/guardian-hack-day-2">does</a> <a href="http://www.youtube.com/watch?v=PUwEEOhcK3s">it</a>, and so should you. The <a href="http://www.inc.com/jessica-stillman/hack-days-not-just-for-facebookers.html">benefits</a> have been <a href="http://globalpersonals.co.uk/blog/hack-attack/">espoused</a> time and time again.</p>

<p><a href="http://hackdaymanifesto.com/">Plan</a> well, and have fun, and ensure that the hack lives on: as much fun as hack days are, developers get gratification from seeing their time investment go beyond the awards ceremony.</p>

<p><img src="http://24.media.tumblr.com/tumblr_mbl0jzlWN41rqrenzo1_1280.jpg" alt="On your marks. Get set. HACK!"></p>

<h1>The Chair</h1>

<p>An ergonomic chair that will last forever.</p>

<p>I’ve sat in one of these for 3 years now (not continuously, mind) and my back loves me for it. It’s cool in summer, reclines with grace, and makes you feel like your sitting on a cloud while managing your apps in the Cloud.</p>

<p>Get one.</p>

<p><img src="http://24.media.tumblr.com/tumblr_mb62qbnz5F1rqrenzo1_1280.jpg" alt="If you're going to be on your bottom all day, you might as well do it in one of these"></p>

<h1>&hellip;and so forth</h1>

<p>This is by no means an exhaustive list, and I&rsquo;ll be happy to hear what other programmers consider the bear necessities.</p>

<p><a name="¹">¹</a> This is obviously tongue-in-cheek, and programmers make no demands ;-)</p>

<p><a name="²">²</a> …and all the required ports will be open.</p>
</div>
	<div class="breaker"></div>
	<info class="empty after">
	</info>
</div>

  </div>
  
  <div class="content">
  <div class="post">

	<div class="meta">
		<p class="item tags small">
		<a href="/tag/tech" class="tag">tech</a>
		</p>
	</div>
	<div class="breaker"></div>
	<h1 class="title"><a href="/2012/02/24/be-careful-what-you-type.html">Be careful what you type when using a terminal emulator…</a></h1>

	<info datetime="">
	Feb 24, 2012
	</info>


	<div class="body">
		<p>…because it (or the shell) may not support UTF8.</p>

<p>It just so happens I accidentally called James Bond a something-or-other:</p>

<p><img width="240px" src="http://funkshional.files.wordpress.com/2012/02/shell-insult.png" alt="You $&&$^!"></p>
</div>
	<div class="breaker"></div>
	<info class="empty after">
	</info>
</div>

  </div>
  
  <div class="content">
  <div class="post">

	<div class="meta">
		<p class="item tags small">
		<a href="/tag/tech" class="tag">tech</a>
		</p>
	</div>
	<div class="breaker"></div>
	<h1 class="title"><a href="/2012/01/25/read-receipts-for-the-rest-of-us.html">Read Receipts for the rest of us</a></h1>

	<info datetime="">
	Jan 25, 2012
	</info>


	<div class="body">
		<p>Or, more correctly: Read Receipts for geeks who use <a href="http://www.iterm2.com/">iTerm</a> and/or <a href="http://growl.info/">Growl</a>.</p>

<h1>Read receipt</h1>

<p>So, the Interwebs is down, or the proxy is packing up, or you can’t log in to server X, or <insert generic technical issue here>. You fire off an email to the sysadmins explaining the problem, and now you’re waiting for a reply.</p>

<p>It just so happens that I had a bit of technical trouble today, and fired off an email to someone who can help. I love metrics, and in this case I wanted to know exactly when the sysadmin is looking at my cry for help so I can actually pop over to their side of the office and badger them to fix it (nah, I’m not really like that ;-)</p>

<p>What you need is a Read Receipt notification which tells you that they read your email.</p>

<h1>The rest of us</h1>

<p>If you’re in my situation, you:</p>

<ul>
<li>don’t use MS products, hence no Read Receipts in your email client</li>
<li>even if your mail client does support Read Receipts, you haven&rsquo;t switched it on, because it&rsquo;s a faff</li>
<li>don’t work in an office where there’s a reliable ticketing system, so you don’t immediately know if your request is being actioned.</li>
<li>work with people who reject read receipt requests anyway</li>
</ul>


<h1>The hack</h1>

<p>Put a link in the email that they can click on. The trick is to get them to click on it, e.g.</p>

<p><img width="381px" src="http://funkshional.files.wordpress.com/2012/01/email.png" alt="Links are made for clicking on"></p>

<p>Notice the link http://10.5.2.113:9999/</p>

<p>We now have to make sure it points to something, and more importantly, make sure you get an alert if the link is clicked.</p>

<h1>Cats to the rescue</h1>

<p>In this example, I’m using <a href="http://www.gnu.org/software/coreutils/manual/html_node/cat-invocation.html">cat</a>, <a href="http://en.wikipedia.org/wiki/Netcat">netcat</a> and a <a href="http://icanhascheezburger.com/">lolcat</a> (swap the lolcat out with a screenshot of your actual issue). I prepend the command with <a href="http://www.gnu.org/software/bash/manual/html_node/Pipelines.html">time</a> which causes timing statistics to be printed for the command once it finishes.</p>

<p>Open a shell, and host the image with:</p>

<script src='https://gist.github.com/6375611.js?file=catserver'></script>


<div><noscript><pre><code>time cat lolcat.jpg | nc -l 9999</code></pre></noscript></div>


<p><strong>UPDATE</strong></p>

<p>In retrospect, you can serve something up repeatedly by putting it in a <code>while (true)</code> loop:</p>

<script src='https://gist.github.com/6375611.js?file=holding-page'></script>


<div><noscript><pre><code>while (true); do
  date
  {{echo &quot;HTTP/1.1 200 OK\n\r\
Content-Type: text/html\n\r\n\r\
&lt;html&gt;&lt;body&gt;&lt;p&gt;hiya\!&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;\n\r&quot;} \
| nc -l 9009} &gt; /dev/null 2&gt;&amp;1
done</code></pre></noscript></div>


<p><img width="381px" src="http://funkshional.files.wordpress.com/2012/01/start.png" alt="Serve the cat with cat and netcat"></p>

<p>Now, you’ve sent the email and hosted the image. In the meanwhile, you carry on with your other work.</p>

<h1>What The Sysadmin sees</h1>

<p>The Sysadmin clicks on your link, et voila:</p>

<p><img width="381px" src="http://funkshional.files.wordpress.com/2012/01/what-they-see.png" alt="My all-important screenshot of my technical issue"></p>

<h1>What you see</h1>

<p>A Growl notification:</p>

<p><img width="328px" src="http://funkshional.files.wordpress.com/2012/01/growl.png" alt="Your read receipt"></p>

<p>And, the iTerm tab in which you ran the cat command’s title will flare up. This is a feature of iTerm that can be disabled with <em>Preferences > Appearance > Color</em> tab labels on activity. Here’s what it looks like for me:</p>

<p><img width="381px" src="http://funkshional.files.wordpress.com/2012/01/meanwhile.png" alt="Read receipt part II"></p>

<p>Click on the tab and see the proof that the image has been served. Even better, the time command will tell you how long it took for The Sysadmin to click on your link (one minute and three seconds, in my case):</p>

<p><img width="381px" src="http://funkshional.files.wordpress.com/2012/01/end.png" alt="They took a minute to respond, shock horror!"></p>

<p>Now, run over there and start badgering.</p>
</div>
	<div class="breaker"></div>
	<info class="empty after">
	</info>
</div>

  </div>
  
  <div class="content">
  <div class="post">

	<div class="meta">
		<p class="item tags small">
		<a href="/tag/life" class="tag">life</a>
		</p>
	</div>
	<div class="breaker"></div>
	<h1 class="title"><a href="/2012/01/17/a-dream-and-a-lesson.html">A dream and a lesson</a></h1>

	<info datetime="">
	Jan 17, 2012
	</info>


	<div class="body">
		<p>In my dream I’m 12 again and we’re having the usual Saturday afternoon stir-fry at my maternal grandfather’s house. My mom’s 6 siblings and their partners are there, as well as all my partners in crime (aka cousins).</p>

<p>We’re swimming, eating and soaking up the sun. The adults are having deep conversations over a beer. The kids are running around, yelling, jumping in the water.</p>

<p>My uncle, a welder, is busy cooking a heap of chicken strips. Always hungry, I walk over for a mouthful. “Hey, little buddy” he says. “I had this idea I wanted to tell you about, since I heard that welding will be one of your subjects in high school next year.”</p>

<p>Well, yeah — mostly electronics and that kinda thing, but since I’m a sucker for a good idea, I briefly forgot about the swimming pool for a while.</p>

<p>His glasses sat on his browned, greasy face as he went on, eyes always flickering with curiosity. “So, I’m thinking of doing a range of metal tables that you can adjust. See, if you feel like standing up, then you flick a switch and the table comes up to your level” he says as he squats and comes back up, right hand level with his chest while his left hand is still holding the spatula.</p>

<p>At this point, my 32 year old psyche starts materialising in my head. You know — when things in your dream starts feeling out of place: you flick a light switch and the light doesn’t turn on, or you pinch yourself but feel nothing.</p>

<p>Luckily, instead of focusing, then focusing so much that I wake up (here’s looking at you, lucid dreamers), I ease into the idea just presented to me. I allow myself to be blinded by the sun’s glare on the swimming pool, and I allow my mind to swim.</p>

<p>“But, yeah — I talked to a few people, and everyone says it’s crazy.”</p>

<p><em>No, it’s a great idea! Trust me on this one.</em></p>

<p>“They say that they’ll look silly standing up next to a high table in the office.”</p>

<p><em>Don’t be silly — it’s a great relief from sitting down for hours on end!</em></p>

<p>I divert my gaze from the glare back to his glasses.</p>

<p>“They say that it may be unstable and that the monitor may fall off.”</p>

<p><em>I know this is 1992 and that monitors weigh a tonne, but soon everyone will be a programmer, and everyone will start spending HOURS IN FRONT OF THEIR COMPUTERS!</em></p>

<p>Oh no, my eyes are focusing…</p>

<p>“So, I thought ‘nah’. But, it’s still a neat idea, no?”</p>

<p><em>YES! Build me one! Just do it!</em></p>

<p>&hellip;my 32 year old self screamed, but there were no words other than those in my dream head. My eyes focus more… No, stop focusing!</p>

<p>Damn.</p>

<p><strong>I wake up</strong></p>

<p>Now, where have I seen this before? Oh, yes — <a href="http://www.geekdesk.com/">geek desk</a>.</p>

<p>And right there I made the following realisation:</p>

<blockquote><p>If you’re ever the proud owner of a good idea, and you start doubting yourself, try and believe in it so much as if your future self came back in time to tell you that this idea is great, and to <strong>stick with it</strong>.</p></blockquote>

<p>Or let&rsquo;s look at it from the other perspective: Take one of your favourite Good Ideas. Like Google or Yammer. Go back in time. Let&rsquo;s say 1998. Just enough for the idea to be useful and relevant, but not too far for it to be totally alien. Present the idea to your young self. But, believe in it SO MUCH that you actually convince your young self to go and build it. (This is easy, because you’ve seen Google and Yammer first-hand).</p>

<p>If you could go back to 1995¹ with the knowledge you have right now, which idea would you work on? And knowing what you know today, you&rsquo;ll probably try a bit harder and laugh at the naysayers.</p>

<p>I suppose this is what people call “vision”. It takes someone with equal amounts of brains and crazy to religiously stick with something in such a way.</p>

<p>“Trust me on this one.” ;-)</p>

<p>¹ <em>I guess Perl will still be The Hammer and every web problem will be The Nail, so better brush up on some Perl ;-)</em></p>
</div>
	<div class="breaker"></div>
	<info class="empty after">
	</info>
</div>

  </div>
  
</div>

    <!--/div-->
    
    
    <div class="content sub">
      <h2 id="comments">Comments</h2>
      <div class="fb-comments" data-href="http://opyate.com/index.html" data-num-posts="" data-width="550" data-font="arial"></div>
    </div>
    
    
    
    
    
    <footer>
      <p>
        <a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.en_US" class="cc"><img src="/res/cc-cc.png" class="cc">
        <img src="/res/cc-by.png" class="cc"></a>
        This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/3.0/deed.en_US">Creative Commons License</a>
      </p>
    </footer>
    
    
    <script>
  // curry pre < code to be able to get prettified
  // If the first line is
  //   #!-langname\n
  // Then that line is removed from the code and "langname" is given to prettify.
  // If "langname" is "none", that prettify is not applied at all.
  var n,i,L,cn,lang,v = document.getElementsByTagName('pre');
  var m,lang_re = /^#\!-([a-zA-Z0-9_-]+)\n/;
  for (i=0,L=v.length;i<L;++i) {
    n = v.item(i);
    if ((cn = n.firstChild) && cn.nodeName == 'CODE') {
      lang = null;
      if (cn.firstChild.nodeType === Node.TEXT_NODE) {
        m = lang_re.exec(cn.firstChild.nodeValue);
        if (m) {
          lang = m[1].toLowerCase();
          cn.firstChild.nodeValue = cn.firstChild.nodeValue.substr(m[0].length);
          if (lang === 'none') {
            continue;
          }
        }
      }
      n.setAttribute('class', 'prettyprint'+(lang ? ' lang-' + lang : ''));
    }
  }
</script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/prettify/r298/prettify.js"></script>

    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-28222168-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  </body>
</html>
